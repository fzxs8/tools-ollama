# PromptEngineering 界面设计

## 1. Architecture（架构设计）

### 1.1 设计原则
- **简洁高效**: 减少认知负担，突出核心功能
- **响应式设计**: 适配桌面端和移动端
- **一致性**: 遵循Element Plus设计规范
- **可访问性**: 支持键盘导航和屏幕阅读器

### 1.2 布局架构
```
主界面布局
├── 顶部工具栏 (Header)
├── 左侧输入区 (Input Panel)
├── 右侧结果区 (Result Panel)
└── 底部管理区 (Management Panel)
```

### 1.3 色彩系统
- **主色调**: #409EFF (Element Plus Primary)
- **成功色**: #67C23A
- **警告色**: #E6A23C
- **危险色**: #F56C6C
- **信息色**: #909399

## 2. Analysis（需求分析）

### 2.1 界面功能分析
| 功能区域 | 核心功能 | 交互方式 | 优先级 |
|---------|----------|----------|--------|
| 输入区 | 想法输入、模型选择 | 文本框、下拉选择 | P0 |
| 结果区 | 流式显示、标签切换 | 标签页、滚动 | P0 |
| 工具栏 | 生成、保存、设置 | 按钮、菜单 | P0 |
| 管理区 | 提示词列表、搜索 | 表格、搜索框 | P1 |

### 2.2 用户交互分析
#### 主要交互路径
1. **快速生成**: 输入想法 → 选择模型 → 点击生成 → 查看结果
2. **保存管理**: 选择结果 → 点击保存 → 填写信息 → 确认保存
3. **历史查看**: 打开管理面板 → 搜索筛选 → 选择查看 → 加载到主界面

### 2.3 响应式断点
- **大屏**: ≥1200px (桌面端)
- **中屏**: 768px-1199px (平板端)
- **小屏**: <768px (移动端)

## 3. Architecture（界面架构）

### 3.1 主界面布局

#### 3.1.1 整体布局结构
```vue
<template>
  <div class="prompt-engineering">
    <!-- 顶部工具栏 -->
    <header class="pe-header">
      <div class="pe-title">提示词工程</div>
      <div class="pe-actions">
        <el-button @click="generatePrompts">生成</el-button>
        <el-button @click="savePrompt">保存</el-button>
        <el-button @click="toggleManagement">管理</el-button>
      </div>
    </header>

    <!-- 主内容区 -->
    <main class="pe-main">
      <!-- 左侧输入面板 -->
      <aside class="pe-input-panel">
        <IdeaInput />
        <ModelSelector />
      </aside>

      <!-- 右侧结果面板 -->
      <section class="pe-result-panel">
        <ResultTabs />
      </section>
    </main>

    <!-- 底部管理面板 -->
    <footer class="pe-management" v-show="showManagement">
      <PromptList />
    </footer>
  </div>
</template>
```

#### 3.1.2 栅格系统
```scss
.pe-main {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 16px;
  
  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
  }
}
```

### 3.2 核心组件设计

#### 3.2.1 想法输入组件 (IdeaInput)
```vue
<template>
  <div class="idea-input">
    <div class="input-header">
      <h3>描述你的想法</h3>
      <el-tooltip content="Ctrl+Enter 快速生成">
        <el-icon><QuestionFilled /></el-icon>
      </el-tooltip>
    </div>
    
    <el-input
      v-model="userIdea"
      type="textarea"
      :rows="6"
      placeholder="请详细描述你想要生成的提示词..."
      @keydown.ctrl.enter="handleGenerate"
    />
    
    <div class="input-footer">
      <span class="char-count">{{ userIdea.length }}/2000</span>
      <el-button type="text" @click="clearInput">清空</el-button>
    </div>
  </div>
</template>
```

#### 3.2.2 模型选择器 (ModelSelector)
```vue
<template>
  <div class="model-selector">
    <div class="selector-header">
      <h3>选择模型</h3>
      <el-tag size="small">最多3个</el-tag>
    </div>
    
    <el-select
      v-model="selectedModels"
      multiple
      placeholder="选择要对比的模型"
      :max-collapse-tags="2"
    >
      <el-option
        v-for="model in availableModels"
        :key="model"
        :label="model"
        :value="model"
        :disabled="selectedModels.length >= 3 && !selectedModels.includes(model)"
      />
    </el-select>
    
    <div class="model-status">
      <el-tag
        v-for="model in selectedModels"
        :key="model"
        :type="getModelStatus(model)"
        size="small"
      >
        {{ model }}
        <el-icon v-if="generatingModels[model]"><Loading /></el-icon>
      </el-tag>
    </div>
  </div>
</template>
```

#### 3.2.3 结果标签页 (ResultTabs)
```vue
<template>
  <div class="result-tabs">
    <el-tabs v-model="activeTab" type="border-card">
      <el-tab-pane
        v-for="model in selectedModels"
        :key="model"
        :name="model"
        :label="model"
      >
        <template #label>
          <span class="tab-label">
            {{ model }}
            <el-icon v-if="generatingModels[model]" class="loading">
              <Loading />
            </el-icon>
            <el-button
              type="text"
              size="small"
              @click.stop="regenerateModel(model)"
              :disabled="generatingModels[model]"
            >
              重新生成
            </el-button>
          </span>
        </template>
        
        <div class="result-content">
          <el-scrollbar height="400px">
            <div class="prompt-text" v-html="formatPrompt(renderedPrompt[model])"></div>
          </el-scrollbar>
          
          <div class="result-actions">
            <el-button size="small" @click="copyPrompt(model)">复制</el-button>
            <el-button size="small" type="primary" @click="saveCurrentPrompt(model)">
              保存此结果
            </el-button>
          </div>
        </div>
      </el-tab-pane>
    </el-tabs>
  </div>
</template>
```

### 3.3 管理面板设计

#### 3.3.1 提示词列表 (PromptList)
```vue
<template>
  <div class="prompt-list">
    <div class="list-header">
      <el-input
        v-model="searchQuery"
        placeholder="搜索提示词..."
        prefix-icon="Search"
        clearable
      />
      <el-select v-model="selectedTag" placeholder="筛选标签" clearable>
        <el-option
          v-for="tag in availableTags"
          :key="tag"
          :label="tag"
          :value="tag"
        />
      </el-select>
    </div>
    
    <el-table
      :data="filteredPrompts"
      height="300"
      @selection-change="handleSelectionChange"
    >
      <el-table-column type="selection" width="55" />
      <el-table-column prop="name" label="名称" min-width="150" />
      <el-table-column prop="tags" label="标签" width="120">
        <template #default="{ row }">
          <el-tag
            v-for="tag in row.tags"
            :key="tag"
            size="small"
            style="margin-right: 4px;"
          >
            {{ tag }}
          </el-tag>
        </template>
      </el-table-column>
      <el-table-column prop="createdAt" label="创建时间" width="120" />
      <el-table-column label="操作" width="200">
        <template #default="{ row }">
          <el-button size="small" @click="previewPrompt(row)">预览</el-button>
          <el-button size="small" @click="editPrompt(row)">编辑</el-button>
          <el-button size="small" type="danger" @click="deletePrompt(row)">
            删除
          </el-button>
        </template>
      </el-table-column>
    </el-table>
    
    <div class="list-footer">
      <el-button @click="batchDelete" :disabled="!selectedPrompts.length">
        批量删除
      </el-button>
      <el-button @click="exportPrompts">导出</el-button>
    </div>
  </div>
</template>
```

## 4. Application（应用实现）

### 4.1 样式系统

#### 4.1.1 主题变量
```scss
:root {
  --pe-primary-color: #409EFF;
  --pe-success-color: #67C23A;
  --pe-warning-color: #E6A23C;
  --pe-danger-color: #F56C6C;
  --pe-info-color: #909399;
  
  --pe-bg-color: #ffffff;
  --pe-bg-color-light: #f5f7fa;
  --pe-border-color: #dcdfe6;
  --pe-text-color: #303133;
  --pe-text-color-light: #606266;
  
  --pe-border-radius: 4px;
  --pe-box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
}
```

#### 4.1.2 组件样式
```scss
.prompt-engineering {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--pe-bg-color-light);
}

.pe-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  background: var(--pe-bg-color);
  border-bottom: 1px solid var(--pe-border-color);
  box-shadow: var(--pe-box-shadow);
}

.pe-main {
  flex: 1;
  padding: 16px;
  overflow: hidden;
}

.pe-input-panel {
  background: var(--pe-bg-color);
  border-radius: var(--pe-border-radius);
  padding: 20px;
  box-shadow: var(--pe-box-shadow);
}

.pe-result-panel {
  background: var(--pe-bg-color);
  border-radius: var(--pe-border-radius);
  box-shadow: var(--pe-box-shadow);
}
```

### 4.2 交互动效

#### 4.2.1 加载动画
```scss
.loading-animation {
  @keyframes typing {
    from { width: 0; }
    to { width: 100%; }
  }
  
  .typing-effect {
    overflow: hidden;
    white-space: nowrap;
    animation: typing 2s steps(40, end);
  }
}

.skeleton-loading {
  @keyframes skeleton-loading {
    0% { background-position: -200px 0; }
    100% { background-position: calc(200px + 100%) 0; }
  }
  
  background: linear-gradient(90deg, #f2f2f2 25%, #e6e6e6 50%, #f2f2f2 75%);
  background-size: 200px 100%;
  animation: skeleton-loading 1.5s infinite;
}
```

#### 4.2.2 过渡效果
```scss
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from, .fade-leave-to {
  opacity: 0;
}

.slide-up-enter-active, .slide-up-leave-active {
  transition: all 0.3s ease;
}

.slide-up-enter-from {
  transform: translateY(20px);
  opacity: 0;
}

.slide-up-leave-to {
  transform: translateY(-20px);
  opacity: 0;
}
```

### 4.3 响应式设计

#### 4.3.1 移动端适配
```scss
@media (max-width: 768px) {
  .pe-header {
    padding: 12px 16px;
    
    .pe-title {
      font-size: 16px;
    }
    
    .pe-actions {
      .el-button {
        padding: 8px 12px;
        font-size: 12px;
      }
    }
  }
  
  .pe-main {
    padding: 12px;
    grid-template-columns: 1fr;
    gap: 12px;
  }
  
  .pe-input-panel {
    padding: 16px;
  }
  
  .result-tabs {
    .el-tabs__header {
      margin: 0 0 12px 0;
    }
  }
}
```

#### 4.3.2 平板端适配
```scss
@media (min-width: 768px) and (max-width: 1199px) {
  .pe-main {
    grid-template-columns: 1fr 1.5fr;
  }
  
  .model-selector {
    .el-select {
      width: 100%;
    }
  }
}
```

## 5. Assurance（质量保证）

### 5.1 可访问性保证
- **键盘导航**: 支持Tab键导航，Enter键确认
- **屏幕阅读器**: 提供aria-label和role属性
- **颜色对比**: 确保文字与背景对比度≥4.5:1
- **焦点指示**: 清晰的焦点状态样式

### 5.2 性能保证
- **虚拟滚动**: 大列表使用虚拟滚动优化
- **图片懒加载**: 延迟加载非关键图片
- **组件懒加载**: 按需加载组件
- **CSS优化**: 使用CSS变量，减少重绘

### 5.3 兼容性保证
- **浏览器兼容**: 支持Chrome 80+, Firefox 75+, Safari 13+
- **设备兼容**: 支持桌面端、平板端、移动端
- **分辨率适配**: 支持1920x1080到375x667分辨率

## 6. Action（行动计划）

### 6.1 设计实现计划

#### 阶段1: 基础界面 (1周)
- ✅ 主界面布局框架
- ✅ 核心组件设计
- ✅ 基础样式系统
- 🔄 响应式布局适配

#### 阶段2: 交互优化 (1周)
- 🔄 动画效果实现
- 🔄 加载状态设计
- 🔄 错误状态处理
- 🔄 快捷键支持

#### 阶段3: 体验提升 (1周)
- 📅 可访问性优化
- 📅 性能优化
- 📅 细节打磨
- 📅 用户测试

### 6.2 设计规范
- **间距规范**: 8px基础间距，16px、24px、32px递增
- **字体规范**: 14px正文，16px标题，12px辅助文字
- **圆角规范**: 4px基础圆角，8px卡片圆角
- **阴影规范**: 0 2px 12px rgba(0,0,0,0.1)

### 6.3 组件库扩展
- **自定义组件**: 基于Element Plus扩展
- **主题定制**: 支持深色模式切换
- **图标系统**: 统一的图标使用规范
- **动效库**: 常用动画效果封装