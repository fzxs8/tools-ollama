# ModelMarket 页面功能需求

## 页面概述

ModelMarket 页面是 Ollama 模型管理工具的模型市场功能页面，用于发现和下载在线模型。用户可以通过该页面浏览热门模型、搜索特定模型并下载到本地 Ollama 服务器。

## 核心功能

### 1. 在线模型展示

#### 热门模型列表
- 页面加载时默认展示热门在线模型列表
- 显示模型名称、下载次数、更新时间等信息
- 提供模型详情查看功能

#### 模型信息展示
- 模型名称
- 下载次数（格式化显示，如 1.2M、3.5K）
- 更新时间（格式化显示，如 2024年01月01日 12:00:00）
- 模型描述（可选）

### 2. 模型搜索功能

#### 搜索框
- 提供模型名称搜索输入框
- 支持回车键快速搜索
- 点击搜索按钮执行搜索

#### 搜索结果
- 显示模型名称、下载次数、更新时间
- 提供详情查看功能

### 3. 模型详情功能

#### 详情展示
- 在抽屉中展示模型详细信息
- 显示模型名称、标识、描述、下载次数等信息
- 提供在新窗口中查看模型详情页面的链接

## 数据结构

### 在线模型数据结构

```typescript
interface OnlineModel {
  model_identifier: string;   // 模型标识
  namespace: string | null;   // 命名空间
  model_name: string;         // 模型名称
  model_type: string;         // 模型类型
  description: string;        // 模型描述
  capability: string | null;  // 模型能力
  labels: string[];           // 标签
  pulls: number;              // 下载次数
  tags: number;               // 标签数量
  last_updated: string;       // 最后更新日期
  last_updated_str: string;   // 最后更新时间描述
  url: string;                // 模型详情页面URL
}
```

## 交互逻辑

### 页面加载流程
1. 调用后端接口获取热门在线模型列表
2. 显示模型列表
3. 提供搜索功能

### 模型搜索流程
1. 在搜索输入框中输入关键词
2. 按回车键或点击搜索按钮执行搜索
3. 显示搜索结果

### 模型详情流程
1. 点击模型的"详情"按钮
2. 在抽屉中展示模型详细信息
3. 用户可点击"在新窗口中查看"按钮在浏览器中打开模型详情页面

## 状态管理

### 模型加载状态
- 页面加载时显示加载动画
- 搜索过程中显示加载动画

### 模型详情状态
- 点击详情按钮时打开抽屉
- 抽屉关闭时清除选中模型信息

## API 接口需求

### 后端接口

1. **SearchOnlineModels**
   - 功能：搜索在线模型
   - 参数：搜索关键词
   - 返回：在线模型列表

### 前端调用

1. **SearchOnlineModels**
   - 调用后端 SearchOnlineModels 接口
   - 处理返回的在线模型列表

## 错误处理

### 网络错误
- 服务不可达时显示具体错误信息
- 提供重试机制

### 模型错误
- 模型不存在时显示错误信息
- 提供替代建议

## 用户体验要求

### 界面反馈
- 操作成功后显示成功消息
- 操作失败后显示错误消息
- 加载过程中显示加载状态

### 自动化功能
- 页面加载时自动获取热门模型列表
- 支持回车键快速搜索

### 状态同步
- 界面状态与后端保持同步
