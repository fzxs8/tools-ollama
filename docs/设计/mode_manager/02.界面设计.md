# ModelManager é¡µé¢ç•Œé¢è®¾è®¡

## 1. Architectureï¼ˆæ¶æ„è®¾è®¡ï¼‰

### 1.1 æ•´ä½“æ¶æ„
é¡µé¢é‡‡ç”¨ç°ä»£åŒ–çš„æ¸å˜èƒŒæ™¯è®¾è®¡ï¼Œä½¿ç”¨ Vue 3 Composition API + Element Plus ç»„ä»¶åº“æ„å»ºã€‚æ•´ä½“å¸ƒå±€ä¸ºå•åˆ—å“åº”å¼è®¾è®¡ï¼Œé€šè¿‡æŠ½å±‰ç»„ä»¶å®ç°è¯¦ç»†ä¿¡æ¯å±•ç¤ºã€‚

### 1.2 æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **UIç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Vue 3 Reactive API
- **å›½é™…åŒ–**: Vue I18n
- **æ ·å¼æ–¹æ¡ˆ**: Scoped CSS + æ¸å˜èƒŒæ™¯

### 1.3 ç»„ä»¶å±‚æ¬¡ç»“æ„
```
ModelManager.vue
â”œâ”€â”€ PageHeaderï¼ˆé¡µé¢å¤´éƒ¨ï¼‰
â”œâ”€â”€ ControlPanelï¼ˆæ§åˆ¶é¢æ¿ï¼‰
â”‚   â”œâ”€â”€ ServerSelectorï¼ˆæœåŠ¡å™¨é€‰æ‹©å™¨ï¼‰
â”‚   â””â”€â”€ ActionButtonsï¼ˆæ“ä½œæŒ‰é’®ç»„ï¼‰
â”œâ”€â”€ ModelsTableï¼ˆæ¨¡å‹åˆ—è¡¨è¡¨æ ¼ï¼‰
â”œâ”€â”€ DownloadDrawerï¼ˆä¸‹è½½æ¨¡å‹æŠ½å±‰ï¼‰
â”œâ”€â”€ DownloadQueueDrawerï¼ˆä¸‹è½½é˜Ÿåˆ—æŠ½å±‰ï¼‰
â””â”€â”€ ModelDetailsDrawerï¼ˆæ¨¡å‹è¯¦æƒ…æŠ½å±‰ï¼‰
    â”œâ”€â”€ BasicInfoï¼ˆåŸºæœ¬ä¿¡æ¯ï¼‰
    â”œâ”€â”€ DetailedInfoï¼ˆè¯¦ç»†ä¿¡æ¯ï¼‰
    â”œâ”€â”€ ActionButtonsï¼ˆæ“ä½œæŒ‰é’®ï¼‰
    â”œâ”€â”€ ParameterConfigï¼ˆå‚æ•°é…ç½®ï¼‰
    â””â”€â”€ ModelTestï¼ˆæ¨¡å‹æµ‹è¯•ï¼‰
```

## 2. Analysisï¼ˆéœ€æ±‚åˆ†æï¼‰

### 2.1 ç”¨æˆ·éœ€æ±‚åˆ†æ
- **ä¸»è¦ç”¨æˆ·**: AIæ¨¡å‹å¼€å‘è€…ã€ç ”ç©¶äººå‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜
- **æ ¸å¿ƒéœ€æ±‚**: æ¨¡å‹ç®¡ç†ã€çŠ¶æ€ç›‘æ§ã€å‚æ•°é…ç½®ã€æµ‹è¯•éªŒè¯
- **ä½¿ç”¨åœºæ™¯**: æœ¬åœ°æ¨¡å‹éƒ¨ç½²ã€è¿œç¨‹æ¨¡å‹ç®¡ç†ã€æ‰¹é‡æ“ä½œ

### 2.2 åŠŸèƒ½éœ€æ±‚ä¼˜å…ˆçº§
| ä¼˜å…ˆçº§ | åŠŸèƒ½æ¨¡å— | æè¿° |
|--------|----------|------|
| P0 | æ¨¡å‹åˆ—è¡¨å±•ç¤º | æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨æ¨¡å‹åŠçŠ¶æ€ |
| P0 | æ¨¡å‹è¯¦æƒ…æŸ¥çœ‹ | æŸ¥çœ‹æ¨¡å‹å®Œæ•´ä¿¡æ¯ |
| P0 | æ¨¡å‹è¿è¡Œæ§åˆ¶ | å¯åŠ¨/åœæ­¢æ¨¡å‹ |
| P1 | æ¨¡å‹ä¸‹è½½ç®¡ç† | ä¸‹è½½æ–°æ¨¡å‹åŠè¿›åº¦è·Ÿè¸ª |
| P1 | å‚æ•°é…ç½® | è°ƒæ•´æ¨¡å‹è¿è¡Œå‚æ•° |
| P2 | æ¨¡å‹æµ‹è¯• | å¿«é€Ÿæµ‹è¯•æ¨¡å‹å“åº” |
| P2 | æ‰¹é‡æ“ä½œ | æ‰¹é‡ç®¡ç†å¤šä¸ªæ¨¡å‹ |

## 3. Architectureï¼ˆç•Œé¢æ¶æ„ï¼‰

### 3.1 é¡µé¢å¤´éƒ¨è®¾è®¡
```vue
<div class="page-header">
  <div class="header-content">
    <div class="header-icon"><!-- SVGå›¾æ ‡ --></div>
    <div class="header-text">
      <h1>{{ t('modelManager.title') }}</h1>
      <p>{{ t('modelManager.description') }}</p>
    </div>
  </div>
</div>
```

**è®¾è®¡ç‰¹ç‚¹**:
- ä½¿ç”¨æ¸å˜èƒŒæ™¯æå‡è§†è§‰æ•ˆæœ
- å›¾æ ‡+æ–‡å­—çš„ç»„åˆå¸ƒå±€
- å®Œå…¨å›½é™…åŒ–æ”¯æŒ
- å“åº”å¼è®¾è®¡é€‚é…

### 3.2 æ§åˆ¶é¢æ¿è®¾è®¡
```vue
<div class="control-panel">
  <div class="server-selector">
    <label>{{ t('modelManager.server') }}:</label>
    <select v-model="selectedServer" @change="onServerChange">
      <!-- æœåŠ¡å™¨é€‰é¡¹ -->
    </select>
  </div>
  <div class="action-buttons">
    <button class="btn primary" @click="openDownloadDialog">
      {{ t('modelManager.downloadModel') }}
    </button>
    <button class="btn secondary" @click="openDownloadQueueDialog">
      {{ t('modelManager.downloadQueue') }}
    </button>
    <button class="btn secondary" @click="refreshModels">
      {{ t('common.refresh') }}
    </button>
  </div>
</div>
```

**åŠŸèƒ½ç‰¹æ€§**:
- æœåŠ¡å™¨åŠ¨æ€åˆ‡æ¢
- å¤šç§æ“ä½œå¿«æ·å…¥å£
- æ¯›ç»ç’ƒæ•ˆæœèƒŒæ™¯
- æ‚¬åœåŠ¨ç”»æ•ˆæœ

### 3.3 æ¨¡å‹åˆ—è¡¨è¡¨æ ¼è®¾è®¡

#### è¡¨æ ¼ç»“æ„ä¼˜åŒ–
| åˆ—å | å­—æ®µ | å®½åº¦ | æ•°æ®å¤„ç† | è¯´æ˜ |
|------|------|------|----------|------|
| # | index | 60px | è‡ªåŠ¨åºå· | åºå·åˆ— |
| æ¨¡å‹åç§° | name | è‡ªé€‚åº” | ç›´æ¥æ˜¾ç¤º | æ¨¡å‹çš„å®Œæ•´åç§° |
| å¤§å° | size | 120px | formatSize() | æ™ºèƒ½å•ä½è½¬æ¢(B/KB/MB/GB) |
| ä¿®æ”¹æ—¶é—´ | modified_at | 180px | formatDate() | **[å·²ä¿®å¤]** å­—æ®µæ˜ å°„ä¿®æ­£ |
| è¿è¡ŒçŠ¶æ€ | isRunning | 100px | çŠ¶æ€æ ‡ç­¾ | åŠ¨æ€çŠ¶æ€æ˜¾ç¤º |
| æ“ä½œ | - | 100px | æ“ä½œæŒ‰é’® | æŸ¥çœ‹è¯¦æƒ…å…¥å£ |

#### å…³é”®ä¿®å¤è¯´æ˜
**ä¿®æ”¹æ—¶é—´å­—æ®µæ˜ å°„ä¿®å¤**:
- **é—®é¢˜**: å‰ç«¯ä½¿ç”¨ `modifiedAt`ï¼Œåç«¯APIè¿”å› `modified_at`
- **è§£å†³**: ç»Ÿä¸€ä½¿ç”¨ `modified_at` å­—æ®µå
- **å½±å“**: ä¿®å¤äº†"Invalid Date"æ˜¾ç¤ºé—®é¢˜

```typescript
// ä¿®å¤å‰
<td>{{ formatDate(model.modifiedAt) }}</td>

// ä¿®å¤å  
<td>{{ formatDate(model.modified_at) }}</td>
```

```go
// åç«¯ç»“æ„ä½“ä¿®å¤
type Model struct {
    Name       string `json:"name"`
    Model      string `json:"model"`
    ModifiedAt string `json:"modified_at"` // ä¿®å¤å­—æ®µæ˜ å°„
    Size       int64  `json:"size"`
    Digest     string `json:"digest"`
    Details    map[string]interface{} `json:"details"`
    IsRunning  bool   `json:"isRunning"`
}
```

#### è¿è¡ŒçŠ¶æ€æ ‡ç­¾è®¾è®¡
```vue
<span class="status-badge" :class="{ running: model.isRunning, stopped: !model.isRunning }">
  <span class="status-dot"></span>
  {{ model.isRunning ? t('common.running') : t('common.stopped') }}
</span>
```

**çŠ¶æ€æ ·å¼è§„èŒƒ**:
- **è¿è¡Œä¸­**: ç»¿è‰²èƒŒæ™¯ + è„‰å†²åŠ¨ç”»åœ†ç‚¹
- **å·²åœæ­¢**: ç°è‰²èƒŒæ™¯ + é™æ€åœ†ç‚¹
- **å›½é™…åŒ–**: å®Œå…¨æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢

#### æ“ä½œæŒ‰é’®è®¾è®¡
```vue
<button class="btn-small primary" @click="viewModelDetails(model)">
  <svg><!-- æŸ¥çœ‹å›¾æ ‡ --></svg>
  {{ t('common.view') }}
</button>
```

**äº¤äº’ç‰¹æ€§**:
- æ‚¬åœæ•ˆæœï¼šé˜´å½±æå‡ + è½»å¾®ä¸Šç§»
- å›¾æ ‡+æ–‡å­—ç»„åˆ
- æ¸å˜èƒŒæ™¯æŒ‰é’®

### 3.4 æ¨¡å‹è¯¦æƒ…æŠ½å±‰è®¾è®¡

#### æ•´ä½“æ¶æ„ä¼˜åŒ–
**[é‡å¤§ä¼˜åŒ–]** ç»Ÿä¸€è¯¦æƒ…å±•ç¤ºï¼Œç§»é™¤é‡å¤å†…å®¹ï¼Œå®Œå–„å›½é™…åŒ–æ”¯æŒ

```vue
<el-drawer v-model="drawerVisible" title="Model Details" direction="rtl" size="40%">
  <div v-if="selectedModel">
    <!-- ç»Ÿä¸€çš„è¯¦æƒ…å±•ç¤ºåŒºåŸŸ -->
    <div>
      <h4>{{ t('modelManager.modelDetails') }}</h4>
      <el-descriptions :column="1" border size="small">
        <!-- åŸºæœ¬ä¿¡æ¯ -->
        <el-descriptions-item :label="t('modelManager.modelName')">
          {{ selectedModel.name }}
        </el-descriptions-item>
        <el-descriptions-item :label="t('modelManager.size')">
          {{ formatSize(selectedModel.size) }}
        </el-descriptions-item>
        <el-descriptions-item :label="t('modelManager.modified')">
          {{ formatDate(selectedModel.modified_at) }}
        </el-descriptions-item>
        
        <!-- æŠ€æœ¯ä¿¡æ¯ -->
        <el-descriptions-item label="Digest">
          {{ selectedModel.digest }}
        </el-descriptions-item>
        <el-descriptions-item label="Model ID">
          {{ selectedModel.model }}
        </el-descriptions-item>
        
        <!-- è¿è¡ŒçŠ¶æ€ -->
        <el-descriptions-item :label="t('modelManager.status')">
          <el-tag v-if="selectedModel.isRunning" type="success">
            {{ t('common.running') }}
          </el-tag>
          <el-tag v-else type="info">
            {{ t('common.stopped') }}
          </el-tag>
        </el-descriptions-item>
        
        <!-- è¯¦ç»†è§„æ ¼ä¿¡æ¯ -->
        <el-descriptions-item :label="t('modelManager.modelFamily')" 
                              v-if="selectedModel.details?.family">
          {{ selectedModel.details.family }}
        </el-descriptions-item>
        <el-descriptions-item :label="t('modelManager.modelFormat')" 
                              v-if="selectedModel.details?.format">
          {{ selectedModel.details.format }}
        </el-descriptions-item>
        <el-descriptions-item :label="t('modelManager.parameterSize')" 
                              v-if="selectedModel.details?.parameter_size">
          {{ selectedModel.details.parameter_size }}
        </el-descriptions-item>
        <el-descriptions-item :label="t('modelManager.quantizationLevel')" 
                              v-if="selectedModel.details?.quantization_level">
          {{ selectedModel.details.quantization_level }}
        </el-descriptions-item>
      </el-descriptions>
      
      <!-- åŸå§‹æ•°æ®å±•ç¤º -->
      <div v-if="selectedModel.details" style="margin-top: 15px;">
        <h5>{{ t('modelManager.rawData') }}</h5>
        <el-card shadow="never" style="background: #f8f9fa;">
          <pre>{{ JSON.stringify(selectedModel.details, null, 2) }}</pre>
        </el-card>
      </div>
    </div>
  </div>
</el-drawer>
```

#### å…³é”®ä¼˜åŒ–ç‚¹
1. **ç§»é™¤é‡å¤å±•ç¤º**: å°†åŸæœ¬åˆ†æ•£çš„ä¸¤ä¸ªè¯¦æƒ…åŒºåŸŸåˆå¹¶ä¸ºä¸€ä¸ªç»Ÿä¸€åŒºåŸŸ
2. **å®Œå–„å›½é™…åŒ–**: æ‰€æœ‰æ ‡ç­¾éƒ½ä½¿ç”¨ `t()` å‡½æ•°è¿›è¡Œå›½é™…åŒ–
3. **æ¡ä»¶æ¸²æŸ“**: åªæ˜¾ç¤ºå­˜åœ¨çš„è¯¦ç»†ä¿¡æ¯å­—æ®µ
4. **åŸå§‹æ•°æ®**: æä¾›å®Œæ•´çš„JSONæ ¼å¼æ•°æ®ä¾›å¼€å‘è°ƒè¯•

#### æ–°å¢å›½é™…åŒ–é”®å€¼
```json
// zh.json
{
  "modelManager": {
    "modelDetails": "æ¨¡å‹è¯¦æƒ…",
    "modelFamily": "æ¨¡å‹å®¶æ—",
    "modelFormat": "æ¨¡å‹æ ¼å¼", 
    "parameterSize": "å‚æ•°è§„æ¨¡",
    "quantizationLevel": "é‡åŒ–çº§åˆ«",
    "parentModel": "çˆ¶æ¨¡å‹",
    "supportedFamilies": "æ”¯æŒçš„æ¨¡å‹ç±»å‹",
    "rawData": "åŸå§‹æ•°æ® (JSON)"
  }
}

// en.json
{
  "modelManager": {
    "modelDetails": "Model Details",
    "modelFamily": "Model Family",
    "modelFormat": "Model Format",
    "parameterSize": "Parameter Size", 
    "quantizationLevel": "Quantization Level",
    "parentModel": "Parent Model",
    "supportedFamilies": "Supported Families",
    "rawData": "Raw Data (JSON)"
  }
}
```

#### æ“ä½œæŒ‰é’®åŒºåŸŸ
```vue
<div style="margin-top: 20px">
  <el-button v-if="!selectedModel.isRunning" 
             type="primary" 
             @click="runModel" 
             :loading="isRunningModel"
             :disabled="isRunningModel">
    {{ t('common.start') }}
  </el-button>
  <el-button type="danger" @click="deleteModel(selectedModel)">
    {{ t('common.delete') }}
  </el-button>
  <el-button v-if="selectedModel.isRunning" 
             @click="stopModel" 
             :loading="isStoppingModel"
             :disabled="isStoppingModel">
    {{ t('common.stop') }}
  </el-button>
</div>
```

**æŒ‰é’®çŠ¶æ€é€»è¾‘**:
1. **å¯åŠ¨æŒ‰é’®**: ä»…åœ¨æ¨¡å‹æœªè¿è¡Œæ—¶æ˜¾ç¤ºï¼Œæ”¯æŒåŠ è½½çŠ¶æ€
2. **åˆ é™¤æŒ‰é’®**: å§‹ç»ˆæ˜¾ç¤ºï¼Œå±é™©æ“ä½œæ ·å¼
3. **åœæ­¢æŒ‰é’®**: ä»…åœ¨æ¨¡å‹è¿è¡Œæ—¶æ˜¾ç¤ºï¼Œæ”¯æŒåŠ è½½çŠ¶æ€
4. **å›½é™…åŒ–**: æ‰€æœ‰æŒ‰é’®æ–‡å­—å®Œå…¨å›½é™…åŒ–

#### å‚æ•°é…ç½®åŒºåŸŸ
```vue
<div>
  <h4>{{ t('modelManager.modelParameters') }}</h4>
  <el-form :model="modelParams" label-width="80px" size="small">
    <el-form-item :label="t('modelManager.temperature')">
      <el-slider v-model="modelParams.temperature" :min="0" :max="1" :step="0.1"/>
    </el-form-item>
    <el-form-item label="Top P">
      <el-slider v-model="modelParams.topP" :min="0" :max="1" :step="0.1"/>
    </el-form-item>
    <el-form-item :label="t('modelManager.context')">
      <el-input-number v-model="modelParams.context" :min="1" :max="32768"/>
    </el-form-item>
  </el-form>
  <div style="margin-top: 10px">
    <el-button @click="saveModelParams" type="primary" size="small">
      {{ t('modelManager.saveParameters') }}
    </el-button>
    <el-button @click="resetModelParams" size="small">
      {{ t('modelManager.resetParameters') }}
    </el-button>
  </div>
</div>
```

**å‚æ•°é…ç½®ç‰¹æ€§**:
- **æ¸©åº¦æ§åˆ¶**: 0-1èŒƒå›´ï¼Œå½±å“è¾“å‡ºéšæœºæ€§
- **Top Pæ§åˆ¶**: 0-1èŒƒå›´ï¼Œå½±å“è¯æ±‡é€‰æ‹©æ¦‚ç‡
- **ä¸Šä¸‹æ–‡é•¿åº¦**: 1-32768èŒƒå›´ï¼Œå½±å“è®°å¿†é•¿åº¦
- **å®æ—¶ä¿å­˜**: æ”¯æŒå‚æ•°å®æ—¶è°ƒæ•´å’Œä¿å­˜
- **é‡ç½®åŠŸèƒ½**: ä¸€é”®æ¢å¤é»˜è®¤å‚æ•°

#### æ¨¡å‹æµ‹è¯•åŒºåŸŸ
```vue
<div>
  <h4>{{ t('modelManager.modelTest') }}</h4>
  <el-form label-position="top">
    <el-form-item :label="t('modelManager.testContent')">
      <el-input v-model="testPrompt"
                type="textarea"
                :rows="4"
                :placeholder="t('modelManager.enterTestContent')"/>
    </el-form-item>
  </el-form>
  <el-button @click="testModel" 
             :loading="isTestingModel" 
             type="primary" 
             size="small">
    {{ t('modelManager.sendTest') }}
  </el-button>
  
  <div v-if="testResult || isTestingModel" style="margin-top: 15px;">
    <el-card shadow="never" v-loading="isTestingModel">
      <div style="white-space: pre-wrap; font-family: monospace; font-size: 14px;">
        {{ testResult }}
      </div>
    </el-card>
  </div>
</div>
```

**æµ‹è¯•åŠŸèƒ½ç‰¹æ€§**:
- **å¤šè¡Œè¾“å…¥**: æ”¯æŒå¤æ‚æµ‹è¯•å†…å®¹è¾“å…¥
- **å®æ—¶æµ‹è¯•**: ç›´æ¥è°ƒç”¨æ¨¡å‹APIè¿›è¡Œæµ‹è¯•
- **ç»“æœå±•ç¤º**: ä¿æŒåŸå§‹æ ¼å¼çš„å“åº”å±•ç¤º
- **åŠ è½½çŠ¶æ€**: æµ‹è¯•è¿‡ç¨‹ä¸­çš„åŠ è½½æŒ‡ç¤º

## 4. Applicationï¼ˆåº”ç”¨å®ç°ï¼‰

### 4.1 æ¨¡å‹ä¸‹è½½åŠŸèƒ½ç•Œé¢

#### ä¸‹è½½æ¨¡å‹æŠ½å±‰
```vue
<el-drawer v-model="downloadDialogVisible" 
           :title="t('modelManager.downloadModelTitle')" 
           direction="rtl" 
           size="40%">
  <div class="drawer-content">
    <div class="info-box">
      <svg><!-- ä¿¡æ¯å›¾æ ‡ --></svg>
      <p>{{ t('modelManager.downloadInstruction') }} 
         <a href="#" @click.prevent="openOllamaLibrary" class="link">
           https://ollama.com/library
         </a>
      </p>
    </div>
    
    <div class="input-group">
      <label>{{ t('modelManager.modelName') }}</label>
      <el-input v-model="modelNameToDownload" 
                :placeholder="t('modelManager.enterModelName')" />
    </div>
    
    <div class="drawer-footer">
      <el-button @click="downloadDialogVisible = false">
        {{ t('common.cancel') }}
      </el-button>
      <el-button type="primary" 
                 @click="handleDownload" 
                 :loading="isDownloading">
        {{ t('modelManager.startDownload') }}
      </el-button>
    </div>
  </div>
</el-drawer>
```

#### ä¸‹è½½é˜Ÿåˆ—ç®¡ç†
```vue
<div v-if="downloadQueueDrawerVisible" class="drawer-overlay">
  <div class="drawer-content">
    <div class="drawer-header">
      <h3>{{ t('modelManager.downloadQueue') }}</h3>
      <button class="close-btn" @click="downloadQueueDrawerVisible = false">
        <!-- å…³é—­å›¾æ ‡ -->
      </button>
    </div>
    
    <div class="drawer-body">
      <div v-for="item in downloadQueue" :key="item.model" class="download-item">
        <div class="download-info">
          <h4>{{ item.model }}</h4>
          <p>{{ item.status }}</p>
        </div>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" :style="{ width: item.percentage + '%' }"></div>
          </div>
          <span class="progress-text">{{ item.percentage }}%</span>
        </div>
      </div>
    </div>
  </div>
</div>
```

**ä¸‹è½½åŠŸèƒ½ç‰¹æ€§**:
- **æ™ºèƒ½æç¤º**: æä¾›å®˜æ–¹æ¨¡å‹åº“é“¾æ¥
- **è¿›åº¦è·Ÿè¸ª**: å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦å’ŒçŠ¶æ€
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯ä¿¡æ¯å±•ç¤º
- **è‡ªåŠ¨åˆ·æ–°**: ä¸‹è½½å®Œæˆåè‡ªåŠ¨åˆ·æ–°æ¨¡å‹åˆ—è¡¨

### 4.2 çŠ¶æ€ç®¡ç†å®ç°
```typescript
// å“åº”å¼çŠ¶æ€å®šä¹‰
const localModels = ref<Model[]>([])
const selectedModel = ref<Model | null>(null)
const loading = ref(false)
const availableServers = ref<OllamaServerConfig[]>([])
const selectedServer = ref<string>('local')
const drawerVisible = ref(false)

// ä¸‹è½½çŠ¶æ€ç®¡ç†
const downloadProgresses = reactive<Record<string, DownloadProgress>>({})
const downloadQueue = computed(() => Object.values(downloadProgresses))

// æ¨¡å‹å‚æ•°çŠ¶æ€
const modelParams = reactive<ModelParams>({
  outputMode: 'stream',
  temperature: 0.8,
  topP: 0.9,
  topK: 40,
  context: 2048,
  numPredict: 512,
  repeatPenalty: 1.1
})
```

### 4.3 å…³é”®æ–¹æ³•å®ç°
```typescript
// æ—¥æœŸæ ¼å¼åŒ–ä¿®å¤
const formatDate = (dateString: string) => {
  if (!dateString || dateString.trim() === '') {
    return t('common.unknown')
  }
  
  const date = new Date(dateString)
  if (isNaN(date.getTime())) {
    return t('common.unknown')
  }
  
  return date.toLocaleDateString() + ' ' + date.toLocaleTimeString()
}

// æ–‡ä»¶å¤§å°æ ¼å¼åŒ–
const formatSize = (size: number) => {
  if (size < 1024) return size + ' B'
  if (size < 1024 * 1024) return (size / 1024).toFixed(2) + ' KB'
  if (size < 1024 * 1024 * 1024) return (size / (1024 * 1024)).toFixed(2) + ' MB'
  return (size / (1024 * 1024 * 1024)).toFixed(2) + ' GB'
}
```

## 5. Assuranceï¼ˆè´¨é‡ä¿è¯ï¼‰

### 5.1 è§†è§‰è®¾è®¡è§„èŒƒ

#### é¢œè‰²è§„èŒƒ
```css
/* ä¸»é¢˜è‰²å½© */
:root {
  --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --success-color: rgba(72, 187, 120, 0.1);
  --success-border: rgba(72, 187, 120, 0.2);
  --success-text: #38a169;
  --stopped-color: rgba(160, 174, 192, 0.1);
  --stopped-border: rgba(160, 174, 192, 0.2);
  --stopped-text: #718096;
  --danger-color: #F56C6C;
  --glass-bg: rgba(255, 255, 255, 0.95);
  --glass-border: rgba(255, 255, 255, 0.2);
}
```

**è‰²å½©åº”ç”¨åœºæ™¯**:
- **ä¸»è‰²è°ƒ**: æ¸å˜ç´«è“è‰²ï¼Œç”¨äºä¸»è¦æ“ä½œæŒ‰é’®
- **æˆåŠŸçŠ¶æ€**: ç»¿è‰²ç³»ï¼Œç”¨äºè¿è¡Œä¸­çŠ¶æ€
- **åœæ­¢çŠ¶æ€**: ç°è‰²ç³»ï¼Œç”¨äºå·²åœæ­¢çŠ¶æ€  
- **å±é™©æ“ä½œ**: çº¢è‰²ï¼Œç”¨äºåˆ é™¤ç­‰å±é™©æ“ä½œ
- **æ¯›ç»ç’ƒæ•ˆæœ**: åŠé€æ˜ç™½è‰²ï¼Œç”¨äºå¡ç‰‡èƒŒæ™¯

#### é—´è·è§„èŒƒ
```css
/* é—´è·ç³»ç»Ÿ */
.spacing-system {
  --page-padding: 2rem;        /* é¡µé¢å†…è¾¹è· */
  --card-padding: 1.5rem;      /* å¡ç‰‡å†…è¾¹è· */
  --element-gap: 1.5rem;       /* å…ƒç´ é—´è· */
  --drawer-padding: 1.5rem;    /* æŠ½å±‰å†…è¾¹è· */
  --button-gap: 0.75rem;       /* æŒ‰é’®é—´è· */
  --form-gap: 1rem;            /* è¡¨å•å…ƒç´ é—´è· */
}
```

#### å­—ä½“è§„èŒƒ
```css
/* å­—ä½“ç³»ç»Ÿ */
.typography {
  --title-size: 2rem;          /* é¡µé¢æ ‡é¢˜ */
  --subtitle-size: 1.25rem;    /* åŒºåŸŸæ ‡é¢˜ */
  --body-size: 0.95rem;        /* æ­£æ–‡å†…å®¹ */
  --caption-size: 0.875rem;    /* è¾…åŠ©æ–‡å­— */
  --code-size: 12px;           /* ä»£ç å­—ä½“ */
  
  --title-weight: 700;         /* æ ‡é¢˜ç²—ç»† */
  --subtitle-weight: 600;      /* å‰¯æ ‡é¢˜ç²—ç»† */
  --body-weight: 500;          /* æ­£æ–‡ç²—ç»† */
}
```

#### åœ†è§’è§„èŒƒ
```css
/* åœ†è§’ç³»ç»Ÿ */
.border-radius {
  --card-radius: 20px;         /* ä¸»è¦å¡ç‰‡ */
  --button-radius: 12px;       /* ä¸»è¦æŒ‰é’® */
  --small-button-radius: 8px;  /* å°å‹æŒ‰é’® */
  --input-radius: 12px;        /* è¾“å…¥æ¡† */
  --tag-radius: 50px;          /* çŠ¶æ€æ ‡ç­¾ */
  --progress-radius: 4px;      /* è¿›åº¦æ¡ */
}
```

### 5.2 å“åº”å¼è®¾è®¡

#### æ¡Œé¢ç«¯é€‚é…
```css
/* æ¡Œé¢ç«¯å¸ƒå±€ */
@media (min-width: 1024px) {
  .model-manager {
    max-width: 1200px;
    margin: 0 auto;
  }
  
  .drawer-content {
    width: 40%;
    max-width: 90vw;
  }
}
```

#### ç§»åŠ¨ç«¯é€‚é…
```css
/* ç§»åŠ¨ç«¯ä¼˜åŒ– */
@media (max-width: 768px) {
  .model-manager {
    padding: 1rem;
  }
  
  .control-panel {
    flex-direction: column;
    align-items: stretch;
  }
  
  .drawer-content {
    width: 100vw;
  }
  
  .models-table {
    font-size: 0.875rem;
  }
}
```

### 5.3 äº¤äº’ç»†èŠ‚ä¼˜åŒ–

#### åŠ è½½çŠ¶æ€è®¾è®¡
```vue
<!-- è¡¨æ ¼åŠ è½½çŠ¶æ€ -->
<div class="table-wrapper" v-loading="loading">
  <table class="models-table"><!-- è¡¨æ ¼å†…å®¹ --></table>
</div>

<!-- æŒ‰é’®åŠ è½½çŠ¶æ€ -->
<el-button :loading="isRunningModel" :disabled="isRunningModel">
  {{ t('common.start') }}
</el-button>
```

#### åŠ¨ç”»æ•ˆæœå®ç°
```css
/* æ‚¬åœåŠ¨ç”» */
.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
  transition: all 0.3s ease;
}

/* çŠ¶æ€ç‚¹è„‰å†²åŠ¨ç”» */
.status-dot {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
```

#### çŠ¶æ€åé¦ˆæœºåˆ¶
```typescript
// æˆåŠŸåé¦ˆ
ElMessage.success(`${t('messages.modelStarted')} "${selectedModel.value.name}"`);

// é”™è¯¯åé¦ˆ  
ElMessage.error(t('messages.modelStartFailed') + ': ' + error.message);

// ç¡®è®¤å¯¹è¯æ¡†
ElMessageBox.confirm(
  `ç¡®å®šè¦åˆ é™¤æ¨¡å‹ "${model.name}" å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`,
  'åˆ é™¤æ¨¡å‹',
  {confirmButtonText: 'ç¡®å®š', cancelButtonText: 'å–æ¶ˆ', type: 'warning'}
);

// é€šçŸ¥æç¤º
ElNotification.success({
  title: 'ä¸‹è½½å®Œæˆ',
  message: `æ¨¡å‹ "${model}" å·²æˆåŠŸä¸‹è½½ã€‚`,
  duration: 3000
});
```

#### è¡¨å•éªŒè¯è§„åˆ™
```typescript
// å‚æ•°èŒƒå›´éªŒè¯
const validateParams = () => {
  if (modelParams.temperature < 0 || modelParams.temperature > 1) {
    ElMessage.warning('æ¸©åº¦å‚æ•°å¿…é¡»åœ¨0-1ä¹‹é—´');
    return false;
  }
  if (modelParams.context < 1 || modelParams.context > 32768) {
    ElMessage.warning('ä¸Šä¸‹æ–‡é•¿åº¦å¿…é¡»åœ¨1-32768ä¹‹é—´');
    return false;
  }
  return true;
};

// æ¨¡å‹åç§°éªŒè¯
const validateModelName = (name: string) => {
  if (!name || name.trim() === '') {
    ElMessage.warning(t('messages.enterModelName'));
    return false;
  }
  return true;
};
```

## 6. Actionï¼ˆè¡ŒåŠ¨è®¡åˆ’ï¼‰

### 6.1 ç»„ä»¶ä½¿ç”¨è§„èŒƒ

#### Element Plus ç»„ä»¶æ¶æ„
| ç»„ä»¶ç±»åˆ« | ç»„ä»¶åç§° | ä½¿ç”¨åœºæ™¯ | é…ç½®è¦ç‚¹ |
|----------|----------|----------|----------|
| **å¸ƒå±€ç»„ä»¶** | `el-drawer` | è¯¦æƒ…å±•ç¤º | direction="rtl", size="40%" |
| **æ•°æ®å±•ç¤º** | `el-table` | æ¨¡å‹åˆ—è¡¨ | v-loadingæ”¯æŒ |
| | `el-descriptions` | è¯¦æƒ…ä¿¡æ¯ | :column="1", border, size="small" |
| | `el-tag` | çŠ¶æ€æ ‡ç­¾ | typeåŠ¨æ€ç»‘å®š |
| **è¡¨å•ç»„ä»¶** | `el-form` | å‚æ•°é…ç½® | label-width="80px" |
| | `el-slider` | å‚æ•°æ»‘å— | :min="0" :max="1" :step="0.1" |
| | `el-input-number` | æ•°å€¼è¾“å…¥ | :min="1" :max="32768" |
| | `el-input` | æ–‡æœ¬è¾“å…¥ | type="textarea" :rows="4" |
| **åé¦ˆç»„ä»¶** | `el-message` | æ“ä½œåé¦ˆ | success/error/warning |
| | `el-notification` | ç³»ç»Ÿé€šçŸ¥ | ä¸‹è½½å®Œæˆæé†’ |
| | `el-message-box` | ç¡®è®¤å¯¹è¯æ¡† | åˆ é™¤ç¡®è®¤ |
| **å…¶ä»–ç»„ä»¶** | `el-button` | æ“ä½œæŒ‰é’® | :loading, :disabledæ”¯æŒ |
| | `el-card` | å†…å®¹å®¹å™¨ | shadow="never" |
| | `el-divider` | å†…å®¹åˆ†å‰² | åŒºåŸŸåˆ†éš” |

#### ç»„ä»¶äº¤äº’è§„èŒƒ
```typescript
// 1. æŒ‰é’®çŠ¶æ€ç®¡ç†
interface ButtonState {
  loading: boolean;
  disabled: boolean;
  text: string;
}

// 2. è¡¨æ ¼æ“ä½œç®€åŒ–
const tableActions = {
  view: (model: Model) => viewModelDetails(model)
};

// 3. æŠ½å±‰æ ‡é¢˜å›½é™…åŒ–
const drawerTitles = {
  modelDetails: t('modelManager.modelDetails'),
  downloadModel: t('modelManager.downloadModelTitle'),
  downloadQueue: t('modelManager.downloadQueue')
};

// 4. çŠ¶æ€æ ‡ç­¾æ˜ å°„
const statusTagType = {
  running: 'success',
  stopped: 'info'
};

// 5. å‚æ•°èŒƒå›´é…ç½®
const parameterRanges = {
  temperature: { min: 0, max: 1, step: 0.1 },
  topP: { min: 0, max: 1, step: 0.1 },
  context: { min: 1, max: 32768, step: 1 }
};
```

### 6.2 æ€§èƒ½ä¼˜åŒ–è®¡åˆ’

#### ç»„ä»¶æ‡’åŠ è½½
```typescript
// å¤§å‹ç»„ä»¶å¼‚æ­¥åŠ è½½
const ModelDetailsDrawer = defineAsyncComponent(() => 
  import('./components/ModelDetailsDrawer.vue')
);

const DownloadQueueDrawer = defineAsyncComponent(() => 
  import('./components/DownloadQueueDrawer.vue')
);
```

#### æ•°æ®ç¼“å­˜ç­–ç•¥
```typescript
// æ¨¡å‹åˆ—è¡¨ç¼“å­˜
const modelCache = new Map<string, Model[]>();

// æœåŠ¡å™¨é…ç½®ç¼“å­˜
const serverCache = ref<OllamaServerConfig[]>([]);

// æ™ºèƒ½åˆ·æ–°ç­–ç•¥
const shouldRefresh = (lastUpdate: number) => {
  return Date.now() - lastUpdate > 30000; // 30ç§’ç¼“å­˜
};
```

### 6.3 åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ

#### æŠ½å±‰åŠ¨ç”»ä¼˜åŒ–
```css
/* æŠ½å±‰è¿›å…¥åŠ¨ç”» */
.el-drawer__container {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.el-drawer {
  box-shadow: -10px 0 30px rgba(0, 0, 0, 0.3);
}

/* èƒŒæ™¯é®ç½©åŠ¨ç”» */
.el-drawer__wrapper {
  backdrop-filter: blur(4px);
  transition: backdrop-filter 0.3s ease;
}
```

#### çŠ¶æ€å˜åŒ–åŠ¨ç”»
```css
/* æŒ‰é’®æ‚¬åœæ•ˆæœ */
.btn {
  transition: all 0.3s ease;
  transform: translateY(0);
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
}

/* è¡¨æ ¼è¡Œæ‚¬åœæ•ˆæœ */
.model-row {
  transition: background-color 0.2s ease;
}

.model-row:hover {
  background: #f8fafc;
}
```

#### åŠ è½½åŠ¨ç”»å®šåˆ¶
```css
/* è‡ªå®šä¹‰åŠ è½½åŠ¨ç”» */
.custom-loading {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid #f3f3f3;
  border-top: 2px solid #667eea;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* è¿›åº¦æ¡åŠ¨ç”» */
.progress-fill {
  transition: width 0.3s ease;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

### 6.4 å¯è®¿é—®æ€§è®¾è®¡

#### é”®ç›˜å¯¼èˆªæ”¯æŒ
```typescript
// é”®ç›˜äº‹ä»¶å¤„ç†
const handleKeydown = (event: KeyboardEvent) => {
  switch (event.key) {
    case 'Escape':
      if (drawerVisible.value) {
        drawerVisible.value = false;
      }
      break;
    case 'Enter':
      if (event.target instanceof HTMLButtonElement) {
        event.target.click();
      }
      break;
    case 'Tab':
      // è‡ªåŠ¨å¤„ç†ç„¦ç‚¹é¡ºåº
      break;
  }
};

// ç„¦ç‚¹ç®¡ç†
const focusManagement = {
  trapFocus: (container: HTMLElement) => {
    // ç„¦ç‚¹é™·é˜±å®ç°
  },
  restoreFocus: (previousElement: HTMLElement) => {
    // ç„¦ç‚¹æ¢å¤
  }
};
```

#### å±å¹•é˜…è¯»å™¨æ”¯æŒ
```vue
<!-- ARIA æ ‡ç­¾æ”¯æŒ -->
<button :aria-label="t('modelManager.viewDetails', {name: model.name})"
        @click="viewModelDetails(model)">
  {{ t('common.view') }}
</button>

<!-- çŠ¶æ€é€šçŸ¥ -->
<div role="status" aria-live="polite" v-if="loading">
  {{ t('common.loading') }}
</div>

<!-- è¡¨æ ¼è¯­ä¹‰åŒ– -->
<table role="table" :aria-label="t('modelManager.modelList')">
  <thead>
    <tr role="row">
      <th role="columnheader">{{ t('modelManager.modelName') }}</th>
    </tr>
  </thead>
</table>
```

#### é«˜å¯¹æ¯”åº¦æ¨¡å¼é€‚é…
```css
/* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
@media (prefers-contrast: high) {
  .model-manager {
    background: #000;
    color: #fff;
  }
  
  .btn {
    border: 2px solid currentColor;
    background: transparent;
  }
  
  .status-badge {
    border: 2px solid currentColor;
    background: transparent;
  }
}

/* è‰²å½©å¯¹æ¯”åº¦æ£€æŸ¥ */
:root {
  --text-primary: #2d3748;     /* å¯¹æ¯”åº¦ > 7:1 */
  --text-secondary: #4a5568;   /* å¯¹æ¯”åº¦ > 4.5:1 */
  --bg-primary: #ffffff;       /* åŸºç¡€èƒŒæ™¯ */
  --bg-secondary: #f8fafc;     /* æ¬¡è¦èƒŒæ™¯ */
}
```

---

## æ€»ç»“

æœ¬æ–‡æ¡£æŒ‰ç…§6Aå¼€å‘è§„èŒƒï¼ˆArchitectureã€Analysisã€Architectureã€Applicationã€Assuranceã€Actionï¼‰å…¨é¢æè¿°äº†ModelManageré¡µé¢çš„ç•Œé¢è®¾è®¡ã€‚é‡ç‚¹åŒ…å«äº†æœ€è¿‘çš„é‡è¦ä¼˜åŒ–ï¼š

1. **å­—æ®µæ˜ å°„ä¿®å¤**: è§£å†³äº†ä¿®æ”¹æ—¶é—´æ˜¾ç¤º"Invalid Date"çš„é—®é¢˜
2. **è¯¦æƒ…å±•ç¤ºä¼˜åŒ–**: ç»Ÿä¸€äº†æ¨¡å‹è¯¦æƒ…å±•ç¤ºï¼Œç§»é™¤é‡å¤å†…å®¹
3. **å›½é™…åŒ–å®Œå–„**: æ–°å¢äº†å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒ
4. **ç”¨æˆ·ä½“éªŒæå‡**: æ”¹è¿›äº†äº¤äº’åŠ¨ç”»å’ŒçŠ¶æ€åé¦ˆ

è¯¥è®¾è®¡ç¡®ä¿äº†åŠŸèƒ½å®Œæ•´æ€§ã€ç”¨æˆ·ä½“éªŒä¼˜ç§€æ€§å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚
ion="top" label-width="80px" size="small">
    <el-form-item :label="t('modelManager.testPrompt')">
      <el-input v-model="testPrompt" 
                type="textarea" 
                :rows="3" 
                :placeholder="t('modelManager.testPromptPlaceholder')"/>
    </el-form-item>
  </el-form>
  <div style="margin-top: 10px">
    <el-button @click="testModel" 
               type="primary" 
               size="small"
               :loading="isTestingModel"
               :disabled="isTestingModel || !testPrompt.trim()">
      {{ t('modelManager.sendTest') }}
    </el-button>
  </div>
  
  <!-- æµ‹è¯•ç»“æœå±•ç¤ºåŒºåŸŸ -->
  <div v-if="testResult || isTestingModel" style="margin-top: 15px;">
    <h5>{{ t('modelManager.testResult') }}</h5>
    <el-card shadow="never" style="background: #f8f9fa;">
      <div v-if="isTestingModel" class="test-loading">
        <el-icon class="is-loading"><Loading /></el-icon>
        <span>{{ t('modelManager.testing') }}</span>
      </div>
      <pre v-else-if="testResult" class="test-result">{{ testResult }}</pre>
    </el-card>
  </div>
</div>
```

**æ¨¡å‹æµ‹è¯•ç‰¹æ€§**:
- **è‡ªå®šä¹‰æç¤ºè¯**: æ”¯æŒå¤šè¡Œæ–‡æœ¬è¾“å…¥ï¼Œç”¨æˆ·å¯è¾“å…¥ä»»æ„æµ‹è¯•å†…å®¹
- **æ™ºèƒ½æŒ‰é’®çŠ¶æ€**: æŒ‰é’®æ ¹æ®æµ‹è¯•çŠ¶æ€å’Œè¾“å…¥å†…å®¹æ™ºèƒ½å¯ç”¨/ç¦ç”¨
- **åŠ è½½çŠ¶æ€**: æµ‹è¯•è¿‡ç¨‹ä¸­æ˜¾ç¤ºåŠ è½½åŠ¨ç”»å’Œæç¤ºæ–‡å­—
- **ç»“æœå±•ç¤º**: ç¾è§‚çš„å¡ç‰‡å¼ç»“æœå±•ç¤ºåŒºï¼Œæ”¯æŒé•¿æ–‡æœ¬æ˜¾ç¤º
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯ä¿¡æ¯å±•ç¤ºæœºåˆ¶

### 3.5 ä¸‹è½½æ¨¡å‹æŠ½å±‰è®¾è®¡

#### ä¸‹è½½å¯¹è¯æ¡†
```vue
<el-dialog v-model="downloadDialogVisible" 
           :title="t('modelManager.downloadModel')" 
           width="500px">
  <el-form label-width="100px">
    <el-form-item :label="t('modelManager.modelName')">
      <el-input v-model="modelNameToDownload" 
                :placeholder="t('modelManager.modelNamePlaceholder')"/>
    </el-form-item>
  </el-form>
  <template #footer>
    <el-button @click="downloadDialogVisible = false">
      {{ t('common.cancel') }}
    </el-button>
    <el-button type="primary" 
               @click="downloadModel" 
               :loading="isDownloading"
               :disabled="!modelNameToDownload.trim()">
      {{ t('modelManager.startDownload') }}
    </el-button>
  </template>
</el-dialog>
```

#### åœ¨çº¿æ¨¡å‹æœç´¢æŠ½å±‰
```vue
<el-drawer v-model="searchDrawerVisible" 
           :title="t('modelManager.searchOnlineModels')" 
           direction="rtl" 
           size="40%">
  <div class="search-container">
    <el-input v-model="searchQuery" 
              :placeholder="t('modelManager.searchPlaceholder')"
              @input="searchOnlineModels"
              clearable>
      <template #prefix>
        <el-icon><Search /></el-icon>
      </template>
    </el-input>
    
    <div v-if="onlineModels.length > 0" class="search-results">
      <div v-for="model in onlineModels" 
           :key="model.name" 
           class="model-item">
        <div class="model-info">
          <h4>{{ model.name }}</h4>
          <p>{{ model.description }}</p>
          <div class="model-meta">
            <span>{{ t('modelManager.pullCount') }}: {{ model.pullCount }}</span>
            <span>{{ t('modelManager.updatedAt') }}: {{ formatDate(model.updatedAt) }}</span>
          </div>
        </div>
        <el-button type="primary" 
                   size="small"
                   @click="downloadOnlineModel(model.name)">
          {{ t('modelManager.download') }}
        </el-button>
      </div>
    </div>
    
    <el-empty v-else-if="searchQuery && !isSearching" 
              :description="t('modelManager.noSearchResults')"/>
  </div>
</el-drawer>
```

### 3.6 ä¸‹è½½é˜Ÿåˆ—æŠ½å±‰è®¾è®¡

#### ä¸‹è½½é˜Ÿåˆ—ç®¡ç†
```vue
<el-drawer v-model="downloadQueueDrawerVisible" 
           :title="t('modelManager.downloadQueue')" 
           direction="rtl" 
           size="50%">
  <div class="download-queue">
    <div v-if="downloadQueue.length === 0" class="empty-queue">
      <el-empty :description="t('modelManager.noDownloadTasks')"/>
    </div>
    
    <div v-else>
      <div v-for="task in downloadQueue" 
           :key="task.id" 
           class="download-task">
        <div class="task-header">
          <h4>{{ task.modelName }}</h4>
          <el-tag :type="getTaskStatusType(task.status)">
            {{ t(`modelManager.taskStatus.${task.status}`) }}
          </el-tag>
        </div>
        
        <div class="task-progress">
          <el-progress :percentage="task.progress" 
                       :status="task.status === 'failed' ? 'exception' : 
                               task.status === 'completed' ? 'success' : ''"
                       :show-text="true"/>
          <div class="progress-info">
            <span>{{ formatSize(task.completed) }} / {{ formatSize(task.total) }}</span>
            <span v-if="task.speed">{{ formatSpeed(task.speed) }}</span>
            <span v-if="task.remainingTime">{{ formatTime(task.remainingTime) }}</span>
          </div>
        </div>
        
        <div class="task-actions">
          <el-button v-if="task.status === 'downloading'" 
                     size="small" 
                     @click="cancelDownload(task.id)">
            {{ t('common.cancel') }}
          </el-button>
          <el-button v-if="task.status === 'failed'" 
                     size="small" 
                     type="primary"
                     @click="retryDownload(task.id)">
            {{ t('common.retry') }}
          </el-button>
          <el-button v-if="task.status === 'completed'" 
                     size="small" 
                     @click="removeTask(task.id)">
            {{ t('common.remove') }}
          </el-button>
        </div>
        
        <div v-if="task.error" class="task-error">
          <el-alert :title="task.error" 
                    type="error" 
                    :closable="false" 
                    show-icon/>
        </div>
      </div>
    </div>
  </div>
</el-drawer>
```

**ä¸‹è½½é˜Ÿåˆ—ç‰¹æ€§**:
- **å®æ—¶çŠ¶æ€**: å®æ—¶æ˜¾ç¤ºæ‰€æœ‰ä¸‹è½½ä»»åŠ¡çš„çŠ¶æ€å’Œè¿›åº¦
- **è¿›åº¦è¯¦æƒ…**: æ˜¾ç¤ºå·²ä¸‹è½½/æ€»å¤§å°ã€ä¸‹è½½é€Ÿåº¦ã€å‰©ä½™æ—¶é—´
- **ä»»åŠ¡æ§åˆ¶**: æ”¯æŒå–æ¶ˆæ­£åœ¨è¿›è¡Œçš„ä¸‹è½½ã€é‡è¯•å¤±è´¥çš„ä¸‹è½½
- **çŠ¶æ€æ ‡ç­¾**: ä¸åŒçŠ¶æ€ä½¿ç”¨ä¸åŒé¢œè‰²çš„æ ‡ç­¾åŒºåˆ†
- **é”™è¯¯å±•ç¤º**: å¤±è´¥ä»»åŠ¡æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯

## 4. Applicationï¼ˆåº”ç”¨å®ç°ï¼‰

### 4.1 å“åº”å¼è®¾è®¡å®ç°

#### æ–­ç‚¹è®¾è®¡
```scss
// å“åº”å¼æ–­ç‚¹
$breakpoints: (
  'mobile': 768px,
  'tablet': 1024px,
  'desktop': 1200px,
  'wide': 1600px
);

// ç§»åŠ¨ç«¯é€‚é…
@media (max-width: 768px) {
  .control-panel {
    flex-direction: column;
    gap: 10px;
  }
  
  .models-table {
    font-size: 14px;
  }
  
  .drawer-size {
    width: 90% !important;
  }
}
```

### 4.2 ä¸»é¢˜ç³»ç»Ÿå®ç°

#### CSSå˜é‡å®šä¹‰
```scss
:root {
  // ä¸»è‰²è°ƒ
  --primary-color: #409eff;
  --success-color: #67c23a;
  --warning-color: #e6a23c;
  --danger-color: #f56c6c;
  
  // èƒŒæ™¯æ¸å˜
  --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --card-bg: rgba(255, 255, 255, 0.95);
  --glass-bg: rgba(255, 255, 255, 0.1);
  
  // é˜´å½±æ•ˆæœ
  --shadow-light: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 4px 20px 0 rgba(0, 0, 0, 0.15);
  --shadow-heavy: 0 8px 30px 0 rgba(0, 0, 0, 0.2);
}

// æš—è‰²ä¸»é¢˜
[data-theme="dark"] {
  --card-bg: rgba(0, 0, 0, 0.8);
  --glass-bg: rgba(0, 0, 0, 0.3);
  --text-color: #ffffff;
  --bg-gradient: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
}
```

## 5. Assuranceï¼ˆè´¨é‡ä¿è¯ï¼‰

### 5.1 ç•Œé¢ä¸€è‡´æ€§ä¿è¯

#### è®¾è®¡è§„èŒƒ
- **é¢œè‰²è§„èŒƒ**: ç»Ÿä¸€çš„ä¸»é¢˜è‰²å½©ä½“ç³»
- **å­—ä½“è§„èŒƒ**: ç»Ÿä¸€çš„å­—ä½“å¤§å°å’Œè¡Œé«˜
- **é—´è·è§„èŒƒ**: ç»Ÿä¸€çš„è¾¹è·å’Œå†…è¾¹è·
- **åœ†è§’è§„èŒƒ**: ç»Ÿä¸€çš„åœ†è§’åŠå¾„
- **é˜´å½±è§„èŒƒ**: ç»Ÿä¸€çš„é˜´å½±æ•ˆæœ

#### ç»„ä»¶è§„èŒƒ
- **æŒ‰é’®è§„èŒƒ**: ç»Ÿä¸€çš„æŒ‰é’®æ ·å¼å’ŒçŠ¶æ€
- **è¡¨å•è§„èŒƒ**: ç»Ÿä¸€çš„è¡¨å•å…ƒç´ æ ·å¼
- **å¡ç‰‡è§„èŒƒ**: ç»Ÿä¸€çš„å¡ç‰‡å¸ƒå±€å’Œæ ·å¼
- **æŠ½å±‰è§„èŒƒ**: ç»Ÿä¸€çš„æŠ½å±‰å°ºå¯¸å’ŒåŠ¨ç”»

### 5.2 äº¤äº’ä½“éªŒä¿è¯

#### åŠ è½½çŠ¶æ€
- æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½æœ‰æ˜ç¡®çš„åŠ è½½çŠ¶æ€
- æŒ‰é’®åœ¨æ“ä½œè¿‡ç¨‹ä¸­æ˜¾ç¤ºloadingçŠ¶æ€
- é•¿æ—¶é—´æ“ä½œæä¾›è¿›åº¦æŒ‡ç¤º

#### é”™è¯¯å¤„ç†
- å‹å¥½çš„é”™è¯¯ä¿¡æ¯æç¤º
- æ˜ç¡®çš„é”™è¯¯æ¢å¤æŒ‡å¼•
- å®Œå–„çš„è¾¹ç•Œæƒ…å†µå¤„ç†

#### æ“ä½œåé¦ˆ
- å³æ—¶çš„æ“ä½œåé¦ˆ
- æ˜ç¡®çš„æˆåŠŸ/å¤±è´¥æç¤º
- åˆç†çš„æ“ä½œç¡®è®¤æœºåˆ¶

## 6. Actionï¼ˆè¡ŒåŠ¨è®¡åˆ’ï¼‰

### 6.1 å·²å®Œæˆä¼˜åŒ–
- âœ… æ¨¡å‹è¯¦æƒ…æŠ½å±‰ç»Ÿä¸€åŒ–è®¾è®¡
- âœ… æ¨¡å‹æµ‹è¯•åŒºåŸŸå®Œæ•´å®ç°
- âœ… ä¸‹è½½é˜Ÿåˆ—ç®¡ç†ç³»ç»Ÿ
- âœ… å®Œå–„çš„å›½é™…åŒ–æ”¯æŒ
- âœ… å“åº”å¼è®¾è®¡ä¼˜åŒ–

### 6.2 è¿‘æœŸè®¡åˆ’
- ğŸ”„ æš—è‰²ä¸»é¢˜å®Œæ•´å®ç°
- ğŸ”„ ç§»åŠ¨ç«¯äº¤äº’ä¼˜åŒ–
- ğŸ”„ æ— éšœç¢è®¿é—®æ”¯æŒ
- ğŸ”„ æ€§èƒ½ç›‘æ§é›†æˆ

### 6.3 é•¿æœŸè§„åˆ’
- ğŸ“… è‡ªå®šä¹‰ä¸»é¢˜ç³»ç»Ÿ
- ğŸ“… é«˜çº§åŠ¨ç”»æ•ˆæœ
- ğŸ“… æ‰‹åŠ¿æ“ä½œæ”¯æŒ
- ğŸ“… è¯­éŸ³äº¤äº’é›†æˆ