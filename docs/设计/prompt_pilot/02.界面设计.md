# PromptPilot界面设计

## 1. 整体布局与组件结构

采用简洁的单栏垂直布局，由一个主视图组件和多个可复用的子组件构成。

- **主视图**: `PromptPilot.vue`
  - **路径**: `/frontend/src/views/PromptPilot/PromptPilot.vue`
  - **职责**: 负责整体页面布局、状态管理，并集成所有子组件和核心业务逻辑。

- **核心功能区**: 从上至下依次为：
  - **想法输入及控制区**: 用户输入想法、选择服务与模型、触发生成操作的核心区域。
  - **Prompt展示及操作区**: 展示生成的 Prompt 内容，并提供优化、保存等后续操作。

- **抽屉组件**: 
  - **[已重构] 通用列表抽屉**: `CommonPromptDrawer.vue`
    - **路径**: `/frontend/src/views/PromptPilot/components/CommonPromptDrawer.vue`
    - **职责**: 一个可复用的组件，通过`mode`属性来展示“管理提示词” (`manage`) 和“选择提示词” (`select`) 两种不同模式。
  - **保存/编辑抽屉**: 内置于`PromptPilot.vue`中，用于创建和更新Prompt。

## 2. 想法输入及控制区 (`PromptPilot.vue`)

### 2.1 想法输入框
- 一个大型多行文本输入框，占据此区域的上半部分。
- 提供清晰的提示文字，引导用户输入需求。

### 2.2 控件栏
- 位于想法输入框的正下方，采用水平布局，两端对齐 (`space-between`)。

#### 服务与模型选择器 (`ModelSelector.vue`)
- **路径**: `/frontend/src/views/PromptPilot/components/ModelSelector.vue`
- 由两个独立的下拉选择框组成，水平排列，固定宽度，整体靠左显示。

#### 生成按钮
- 一个醒目的主操作按钮，位于控件栏的右侧，文字为简洁的“**生成**”。

## 3. Prompt展示及操作区 (`PromptPilot.vue`)

### 3.1 Prompt展示容器
- **标签页 (Tabs)**: 当用户选择多个模型时，每个模型对应一个标签页。
- **内容区域**: 每个标签页内部包含：
  - **加载状态**: 如果当前模型正在生成，则显示加载动画。
  - **内容展示 (`pre.prompt-raw-content`)**: 以等宽字体的纯文本格式左对齐展示Prompt内容，内容超长时会出现独立的垂直滚动条。
  - **操作按钮**: 右上角包含「复制」和「重新生成」按钮。
- **空状态**: 未选择模型时，显示引导提示信息。

### 3.2 底部操作按钮
- 位于整个区域的右下方，包含「优化」、「保存」和「我的提示词」三个按钮。

## 4. 抽屉设计

### 4.1 保存/编辑Prompt抽屉 (位于`PromptPilot.vue`)
- **触发**: 点击主界面「保存」或“我的提示词”列表中的「编辑」按钮时滑出。
- **抽屉标题**: 动态显示。新建时为“保存Prompt”，编辑时为“编辑 “XXX””（XXX为Prompt名称）。
- **表单 (`el-form`)**: 包含「标题」、「描述」、「标签」、只读的「关联模型」和带「复制」按钮的「内容预览」等表单项。

### 4.2 我的提示词抽屉 (使用`CommonPromptDrawer.vue`)
- **触发**: 点击主界面「我的提示词」按钮时滑出。
- **模式**: 以`mode="manage"`模式调用。
- **标题**: “我的提示词”。
- **功能**: 列表展示所有已保存的Prompt，每项提供「预览」、「编辑」、「删除」操作，并在内容预览区右上角提供「复制」按钮。

### 4.3 [重构] 选择系统提示词抽屉 (在 `ChatManager.vue` 中使用)
- **组件**: `CommonPromptDrawer.vue`
- **触发**: 在聊天管理器中选择系统提示词时滑出。
- **模式**: 以`mode="select"`模式调用。
- **标题**: “选择系统提示词”。
- **功能**: 列表展示所有已保存的Prompt，每项提供「选择」操作，并高亮显示当前已选项。
